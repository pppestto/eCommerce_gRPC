// proto/user/v1/user.proto
syntax = "proto3";

package user.v1;

option go_package = "github.com/pppestto/ecommerce-grpc/proto/gen/user/v1";

import "google/protobuf/empty.proto";  // для void
import "google/protobuf/timestamp.proto";

// Сообщения
message User {
  string id            = 1;  // UUID или string
  string email         = 2;
  string name          = 3;
  repeated string roles = 4;  // ["admin", "user"]
  google.protobuf.Timestamp created_at = 5;
}

message GetUserRequest {
  string id = 1;
}

message CreateUserRequest {
  string email    = 1;
  string password = 2;
  string name     = 3;
} 

message CreateUserResponse {
  User user = 1;
}

// Сервис
service UserService {
  rpc GetUser(GetUserRequest) returns (User);
  rpc CreateUser(CreateUserRequest) returns (CreateUserResponse);
  rpc DeleteUser(GetUserRequest) returns (google.protobuf.Empty);
}